# 单调队列总结

**单调队列概念**

**队列**指元素从队头删除, 从队尾插入(也可以在队尾删除)

**单调**指整个队列维护一个偏序关系, 如小于, 大于

**应用**

1. 求**滑动窗口的最值**问题
2. 求最近的比自己小/大的元素

**思路**

1. 先想用普通队列怎么做
2. 然后将无用元素删掉, 于是具有了单调性
3. 可用 O(1) 时间从队头/队尾取出想要的值

**模板**

```C++
deque<int> q;
...		// 有时候在循环开始前需要插入一些元素
for(int i = 1; i <= n; i++)
{
    while(q.size() && check_front(q.front()))	// 检查队头是否应该删除
    {
        ...				// 删除队头前的处理
		q.pop_front();
    }    
    while(q.size() && check_back(q.back()))		// 检查队尾是否应该删除
    {
        ...				// 删除队尾前的处理
        q.pop_back();
	}
    q.push_back(i);								// 队尾插入
}
```

**题库**

[滑动窗口最大值](https://leetcode-cn.com/problems/sliding-window-maximum/)

经典滑动窗口问题, 窗口大小固定

[和至少为 K 的最短子数组](https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/)

窗口大小不固定, 需要分析队头队尾哪些元素需要删去
