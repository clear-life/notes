# 前缀和与差分

## 前缀和

### 模板

```C++
int a[N], s[N];		// a 的下标从 1 开始
s[0] = 0;

for(int i = 1; i <= n; i++) s[i] = s[i - 1] + a[i];
```

### 用数据结构来维护前缀和

**hashmap**

hashmap 维护前缀和相关的值, 如**下标**

```C++
int a[N], s[N];

unordered_map<int, int> hash;
for(int i = 1; i <= n; i++)
    hash[s[i]] = i;		// 相同前缀和的最大下标

for(int i = 1; i <= n; i++)
    if(!hash.count(s[i])
       hash[s[i]] = i;	// 相同前缀和的最小下标
```

