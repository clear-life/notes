# Haskell 类型

分析 `(map +)` 和 `(map (+))` 的类型

```haskell
ghci> :t (map +)  
(map +) :: Num ((a -> b) -> [a] -> [b]) => ((a -> b) -> [a] -> [b]) -> (a -> b) -> [a] -> [b]

ghci> :t (map (+))
(map (+)) :: Num a => [a] -> [a -> a]
```

* map + 中 map 是前缀函数, + 是中缀函数, + 优先级低后计算, map 优先级高先计算, 从而将 map 作为整体视为 + 的第一个参数, 才会将 map 的类型 (a->b)->[a]->[b] 加上类型约束 Num 视为 + 的第一个参数, 然后 map + 就会期待 + 的另一个参数(map 类型), 返回同样的类型(map类型), 这也就是 map + 的类型为 (map +) :: Num ((a -> b) -> [a] -> [b]) => ((a -> b) -> [a] -> [b]) -> (a -> b) -> [a] -> [b] 的原因

* map (+) 则不同, map 和 (+) 都是前缀函数, map 和 (+) 会被看作同一级存在, 然后就会以 map 函数作为要调用的函数, 将 (+) 作为参数, map 类型中的 a -> b 与 (+) 的 c->c->c 对应, a 就是 c, b 就是 c -> c, 最终的结果就是 [a] -> [a->a]

